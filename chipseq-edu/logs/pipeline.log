stable: Pulling from snakemake/snakemake
Digest: sha256:d357bc759587394841ab2193e65c006cfa7fc1141e0428faa34f154b742b36ef
Status: Image is up to date for snakemake/snakemake:stable
docker.io/snakemake/snakemake:stable
Using profile lsf_demo for setting default command line arguments.
[33mBuilding DAG of jobs...[0m
[35mYour conda installation is not configured to use strict channel priorities. This is however crucial for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.[0m
[33mUsing shell: /bin/bash[0m
[33mProvided cluster nodes: 50[0m
[33mJob stats:
job               count
--------------  -------
align_reads_se        6
all                   1
bam_bigwig            6
bam_sort              6
call_peak             6
reads_multiqc         1
total                26
[0m
[34mResources before job selection: {'_cores': 9223372036854775807, '_nodes': 50}[0m
[34mReady jobs (7)[0m
[33mSelect jobs to execute...[0m
Welcome to the CBC MILP Solver 
Version: 2.10.10 
Build Date: Apr 19 2023 

command line - cbc /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/d51f9678cb8a42638cf09ee98bf96814-pulp.mps max timeMode elapsed branch printingOptions all solution /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/d51f9678cb8a42638cf09ee98bf96814-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 7 COLUMNS
At line 43 RHS
At line 46 BOUNDS
At line 54 ENDATA
Problem MODEL has 2 rows, 7 columns and 14 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 50 - 0.00 seconds
Cgl0004I processed model has 0 rows, 0 columns (0 integer (0 of which binary)) and 0 elements
Cbc3007W No integer variables - nothing to do
Cuts at root node changed objective from 50 to 1.79769e+308
Probing was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                50.00000000
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.03
Time (Wallclock seconds):       0.00

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.04   (Wallclock seconds):       0.00

[34mSelected jobs (7)[0m
[34mResources after job selection: {'_cores': 9223372036854775782, '_nodes': 43}[0m
[32m[0m
[32m[Sun Aug  6 04:41:47 2023][0m
[32mlocalrule reads_multiqc:
    input: results/qc/fastqc/GSM1102782_CD14_H3K27ac.html, results/qc/fastqc/GSM1102785_CD14_H3K27me3.html, results/qc/fastqc/GSM1102788_CD14_H3K36me3.html, results/qc/fastqc/GSM1102793_CD14_H3K4me1.html, results/qc/fastqc/GSM1102797_CD14_H3K4me3.html, results/qc/fastqc/GSM1102807_CD14_input.html, results/qc/fastqc/GSM1102782_CD14_H3K27ac_fastqc.zip, results/qc/fastqc/GSM1102785_CD14_H3K27me3_fastqc.zip, results/qc/fastqc/GSM1102788_CD14_H3K36me3_fastqc.zip, results/qc/fastqc/GSM1102793_CD14_H3K4me1_fastqc.zip, results/qc/fastqc/GSM1102797_CD14_H3K4me3_fastqc.zip, results/qc/fastqc/GSM1102807_CD14_input_fastqc.zip
    output: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    log: logs/qc/multiqc/reads.log
    jobid: 1
    reason: Missing output files: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp[0m
[32m[0m
[32m[Sun Aug  6 04:41:47 2023][0m
[32mrule align_reads_se:
    input: reads/SRX252734/SRR787515.chr15.fastq, results/indexes/hg19/hg19.1.bt2, results/indexes/hg19/hg19.2.bt2, results/indexes/hg19/hg19.3.bt2, results/indexes/hg19/hg19.4.bt2, results/indexes/hg19/hg19.rev.1.bt2, results/indexes/hg19/hg19.rev.2.bt2
    output: results/bams/GSM1102797_CD14_H3K4me3_hg19.bam
    log: logs/bams/GSM1102797_CD14_H3K4me3_hg19.bam.log
    jobid: 24
    benchmark: logs/benchmarks/bams/GSM1102797_CD14_H3K4me3_hg19.bam.txt
    reason: Missing output files: results/bams/GSM1102797_CD14_H3K4me3_hg19.bam; Code has changed since last execution
    wildcards: sample=GSM1102797_CD14_H3K4me3, genome=hg19
    threads: 4
    resources: mem_mb=8037, mem_mib=7665, disk_mb=8037, disk_mib=7665, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "align_reads_se", "local": false, "input": ["reads/SRX252734/SRR787515.chr15.fastq", "results/indexes/hg19/hg19.1.bt2", "results/indexes/hg19/hg19.2.bt2", "results/indexes/hg19/hg19.3.bt2", "results/indexes/hg19/hg19.4.bt2", "results/indexes/hg19/hg19.rev.1.bt2", "results/indexes/hg19/hg19.rev.2.bt2"], "output": ["results/bams/GSM1102797_CD14_H3K4me3_hg19.bam"], "wildcards": {"sample": "GSM1102797_CD14_H3K4me3", "genome": "hg19"}, "params": {"index": "results/indexes/hg19/hg19", "extra": ""}, "log": ["logs/bams/GSM1102797_CD14_H3K4me3_hg19.bam.log"], "threads": 4, "resources": {"mem_mb": 8037, "mem_mib": 7665, "disk_mb": 8037, "disk_mib": 7665, "tmpdir": "<TBD>"}, "jobid": 24, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'align_reads_se:sample=GSM1102797_CD14_H3K4me3,genome=hg19' --allowed-rules 'align_reads_se' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=8037' 'mem_mib=7665' 'disk_mb=8037' 'disk_mib=7665' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'reads/SRX252734/SRR787515.chr15.fastq' 'results/indexes/hg19/hg19.1.bt2' 'results/indexes/hg19/hg19.2.bt2' 'results/indexes/hg19/hg19.3.bt2' 'results/indexes/hg19/hg19.4.bt2' 'results/indexes/hg19/hg19.rev.1.bt2' 'results/indexes/hg19/hg19.rev.2.bt2' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/94f77c0dfe3f3a14358ceab7b36b463d' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj24.align_reads_se.85.sample=GSM1102797_CD14_H3K4me3.genome=hg19' -q 'general' -n '4' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams/GSM1102797_CD14_H3K4me3_hg19.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.align_reads_se.24.sh']
[33mSubmitted job 24 with external jobid '140555'.[0m
[32m[0m
[32m[Sun Aug  6 04:41:47 2023][0m
[32mrule align_reads_se:
    input: reads/SRX252722/SRR787528.chr15.fastq, results/indexes/hg19/hg19.1.bt2, results/indexes/hg19/hg19.2.bt2, results/indexes/hg19/hg19.3.bt2, results/indexes/hg19/hg19.4.bt2, results/indexes/hg19/hg19.rev.1.bt2, results/indexes/hg19/hg19.rev.2.bt2
    output: results/bams/GSM1102785_CD14_H3K27me3_hg19.bam
    log: logs/bams/GSM1102785_CD14_H3K27me3_hg19.bam.log
    jobid: 15
    benchmark: logs/benchmarks/bams/GSM1102785_CD14_H3K27me3_hg19.bam.txt
    reason: Missing output files: results/bams/GSM1102785_CD14_H3K27me3_hg19.bam; Code has changed since last execution
    wildcards: sample=GSM1102785_CD14_H3K27me3, genome=hg19
    threads: 4
    resources: mem_mb=8046, mem_mib=7674, disk_mb=8046, disk_mib=7674, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "align_reads_se", "local": false, "input": ["reads/SRX252722/SRR787528.chr15.fastq", "results/indexes/hg19/hg19.1.bt2", "results/indexes/hg19/hg19.2.bt2", "results/indexes/hg19/hg19.3.bt2", "results/indexes/hg19/hg19.4.bt2", "results/indexes/hg19/hg19.rev.1.bt2", "results/indexes/hg19/hg19.rev.2.bt2"], "output": ["results/bams/GSM1102785_CD14_H3K27me3_hg19.bam"], "wildcards": {"sample": "GSM1102785_CD14_H3K27me3", "genome": "hg19"}, "params": {"index": "results/indexes/hg19/hg19", "extra": ""}, "log": ["logs/bams/GSM1102785_CD14_H3K27me3_hg19.bam.log"], "threads": 4, "resources": {"mem_mb": 8046, "mem_mib": 7674, "disk_mb": 8046, "disk_mib": 7674, "tmpdir": "<TBD>"}, "jobid": 15, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'align_reads_se:sample=GSM1102785_CD14_H3K27me3,genome=hg19' --allowed-rules 'align_reads_se' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=8046' 'mem_mib=7674' 'disk_mb=8046' 'disk_mib=7674' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'reads/SRX252722/SRR787528.chr15.fastq' 'results/indexes/hg19/hg19.1.bt2' 'results/indexes/hg19/hg19.2.bt2' 'results/indexes/hg19/hg19.3.bt2' 'results/indexes/hg19/hg19.4.bt2' 'results/indexes/hg19/hg19.rev.1.bt2' 'results/indexes/hg19/hg19.rev.2.bt2' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/94f77c0dfe3f3a14358ceab7b36b463d' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
[33mpython -c "from __future__ import print_function; import sys, json; print(json.dumps([sys.version_info.major, sys.version_info.minor]))"[0m
[33mActivating conda environment: .snakemake/conda/c85d1f577c38c61775d501a740f6b68f[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj15.align_reads_se.110.sample=GSM1102785_CD14_H3K27me3.genome=hg19' -q 'general' -n '4' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams/GSM1102785_CD14_H3K27me3_hg19.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.align_reads_se.15.sh']
[33mSubmitted job 15 with external jobid '140556'.[0m
[32m[0m
[32m[Sun Aug  6 04:41:47 2023][0m
[32mrule align_reads_se:
    input: reads/SRX252725/SRR787529.chr15.fastq, results/indexes/hg19/hg19.1.bt2, results/indexes/hg19/hg19.2.bt2, results/indexes/hg19/hg19.3.bt2, results/indexes/hg19/hg19.4.bt2, results/indexes/hg19/hg19.rev.1.bt2, results/indexes/hg19/hg19.rev.2.bt2
    output: results/bams/GSM1102788_CD14_H3K36me3_hg19.bam
    log: logs/bams/GSM1102788_CD14_H3K36me3_hg19.bam.log
    jobid: 18
    benchmark: logs/benchmarks/bams/GSM1102788_CD14_H3K36me3_hg19.bam.txt
    reason: Missing output files: results/bams/GSM1102788_CD14_H3K36me3_hg19.bam; Code has changed since last execution
    wildcards: sample=GSM1102788_CD14_H3K36me3, genome=hg19
    threads: 4
    resources: mem_mb=8037, mem_mib=7665, disk_mb=8037, disk_mib=7665, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "align_reads_se", "local": false, "input": ["reads/SRX252725/SRR787529.chr15.fastq", "results/indexes/hg19/hg19.1.bt2", "results/indexes/hg19/hg19.2.bt2", "results/indexes/hg19/hg19.3.bt2", "results/indexes/hg19/hg19.4.bt2", "results/indexes/hg19/hg19.rev.1.bt2", "results/indexes/hg19/hg19.rev.2.bt2"], "output": ["results/bams/GSM1102788_CD14_H3K36me3_hg19.bam"], "wildcards": {"sample": "GSM1102788_CD14_H3K36me3", "genome": "hg19"}, "params": {"index": "results/indexes/hg19/hg19", "extra": ""}, "log": ["logs/bams/GSM1102788_CD14_H3K36me3_hg19.bam.log"], "threads": 4, "resources": {"mem_mb": 8037, "mem_mib": 7665, "disk_mb": 8037, "disk_mib": 7665, "tmpdir": "<TBD>"}, "jobid": 18, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'align_reads_se:sample=GSM1102788_CD14_H3K36me3,genome=hg19' --allowed-rules 'align_reads_se' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=8037' 'mem_mib=7665' 'disk_mb=8037' 'disk_mib=7665' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'reads/SRX252725/SRR787529.chr15.fastq' 'results/indexes/hg19/hg19.1.bt2' 'results/indexes/hg19/hg19.2.bt2' 'results/indexes/hg19/hg19.3.bt2' 'results/indexes/hg19/hg19.4.bt2' 'results/indexes/hg19/hg19.rev.1.bt2' 'results/indexes/hg19/hg19.rev.2.bt2' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/94f77c0dfe3f3a14358ceab7b36b463d' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
[33mpython /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpi2uy3zht.wrapper.py[0m
[33mActivating conda environment: .snakemake/conda/c85d1f577c38c61775d501a740f6b68f[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj18.align_reads_se.140.sample=GSM1102788_CD14_H3K36me3.genome=hg19' -q 'general' -n '4' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams/GSM1102788_CD14_H3K36me3_hg19.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.align_reads_se.18.sh']
[33mSubmitted job 18 with external jobid '140557'.[0m
[32m[0m
[32m[Sun Aug  6 04:41:47 2023][0m
[32mrule align_reads_se:
    input: reads/SRX252730/SRR787524.chr15.fastq, results/indexes/hg19/hg19.1.bt2, results/indexes/hg19/hg19.2.bt2, results/indexes/hg19/hg19.3.bt2, results/indexes/hg19/hg19.4.bt2, results/indexes/hg19/hg19.rev.1.bt2, results/indexes/hg19/hg19.rev.2.bt2
    output: results/bams/GSM1102793_CD14_H3K4me1_hg19.bam
    log: logs/bams/GSM1102793_CD14_H3K4me1_hg19.bam.log
    jobid: 21
    benchmark: logs/benchmarks/bams/GSM1102793_CD14_H3K4me1_hg19.bam.txt
    reason: Missing output files: results/bams/GSM1102793_CD14_H3K4me1_hg19.bam; Code has changed since last execution
    wildcards: sample=GSM1102793_CD14_H3K4me1, genome=hg19
    threads: 4
    resources: mem_mb=8137, mem_mib=7761, disk_mb=8137, disk_mib=7761, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "align_reads_se", "local": false, "input": ["reads/SRX252730/SRR787524.chr15.fastq", "results/indexes/hg19/hg19.1.bt2", "results/indexes/hg19/hg19.2.bt2", "results/indexes/hg19/hg19.3.bt2", "results/indexes/hg19/hg19.4.bt2", "results/indexes/hg19/hg19.rev.1.bt2", "results/indexes/hg19/hg19.rev.2.bt2"], "output": ["results/bams/GSM1102793_CD14_H3K4me1_hg19.bam"], "wildcards": {"sample": "GSM1102793_CD14_H3K4me1", "genome": "hg19"}, "params": {"index": "results/indexes/hg19/hg19", "extra": ""}, "log": ["logs/bams/GSM1102793_CD14_H3K4me1_hg19.bam.log"], "threads": 4, "resources": {"mem_mb": 8137, "mem_mib": 7761, "disk_mb": 8137, "disk_mib": 7761, "tmpdir": "<TBD>"}, "jobid": 21, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'align_reads_se:sample=GSM1102793_CD14_H3K4me1,genome=hg19' --allowed-rules 'align_reads_se' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=8137' 'mem_mib=7761' 'disk_mb=8137' 'disk_mib=7761' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'reads/SRX252730/SRR787524.chr15.fastq' 'results/indexes/hg19/hg19.1.bt2' 'results/indexes/hg19/hg19.2.bt2' 'results/indexes/hg19/hg19.3.bt2' 'results/indexes/hg19/hg19.4.bt2' 'results/indexes/hg19/hg19.rev.1.bt2' 'results/indexes/hg19/hg19.rev.2.bt2' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/94f77c0dfe3f3a14358ceab7b36b463d' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj21.align_reads_se.171.sample=GSM1102793_CD14_H3K4me1.genome=hg19' -q 'general' -n '4' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams/GSM1102793_CD14_H3K4me1_hg19.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.align_reads_se.21.sh']
multiqc  --force -o results/qc/multiqc -n reads.html results/qc/fastqc  > logs/qc/multiqc/reads.log 2>&1
[33mSubmitted job 21 with external jobid '140558'.[0m
[32m[0m
[32m[Sun Aug  6 04:41:48 2023][0m
[32mrule align_reads_se:
    input: reads/SRX252719/SRR787552.chr15.fastq, results/indexes/hg19/hg19.1.bt2, results/indexes/hg19/hg19.2.bt2, results/indexes/hg19/hg19.3.bt2, results/indexes/hg19/hg19.4.bt2, results/indexes/hg19/hg19.rev.1.bt2, results/indexes/hg19/hg19.rev.2.bt2
    output: results/bams/GSM1102782_CD14_H3K27ac_hg19.bam
    log: logs/bams/GSM1102782_CD14_H3K27ac_hg19.bam.log
    jobid: 10
    benchmark: logs/benchmarks/bams/GSM1102782_CD14_H3K27ac_hg19.bam.txt
    reason: Missing output files: results/bams/GSM1102782_CD14_H3K27ac_hg19.bam; Code has changed since last execution
    wildcards: sample=GSM1102782_CD14_H3K27ac, genome=hg19
    threads: 4
    resources: mem_mb=8058, mem_mib=7685, disk_mb=8058, disk_mib=7685, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "align_reads_se", "local": false, "input": ["reads/SRX252719/SRR787552.chr15.fastq", "results/indexes/hg19/hg19.1.bt2", "results/indexes/hg19/hg19.2.bt2", "results/indexes/hg19/hg19.3.bt2", "results/indexes/hg19/hg19.4.bt2", "results/indexes/hg19/hg19.rev.1.bt2", "results/indexes/hg19/hg19.rev.2.bt2"], "output": ["results/bams/GSM1102782_CD14_H3K27ac_hg19.bam"], "wildcards": {"sample": "GSM1102782_CD14_H3K27ac", "genome": "hg19"}, "params": {"index": "results/indexes/hg19/hg19", "extra": ""}, "log": ["logs/bams/GSM1102782_CD14_H3K27ac_hg19.bam.log"], "threads": 4, "resources": {"mem_mb": 8058, "mem_mib": 7685, "disk_mb": 8058, "disk_mib": 7685, "tmpdir": "<TBD>"}, "jobid": 10, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'align_reads_se:sample=GSM1102782_CD14_H3K27ac,genome=hg19' --allowed-rules 'align_reads_se' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=8058' 'mem_mib=7685' 'disk_mb=8058' 'disk_mib=7685' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'reads/SRX252719/SRR787552.chr15.fastq' 'results/indexes/hg19/hg19.1.bt2' 'results/indexes/hg19/hg19.2.bt2' 'results/indexes/hg19/hg19.3.bt2' 'results/indexes/hg19/hg19.4.bt2' 'results/indexes/hg19/hg19.rev.1.bt2' 'results/indexes/hg19/hg19.rev.2.bt2' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/94f77c0dfe3f3a14358ceab7b36b463d' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj10.align_reads_se.199.sample=GSM1102782_CD14_H3K27ac.genome=hg19' -q 'general' -n '4' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams/GSM1102782_CD14_H3K27ac_hg19.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.align_reads_se.10.sh']
[33mSubmitted job 10 with external jobid '140559'.[0m
[32m[0m
[32m[Sun Aug  6 04:41:48 2023][0m
[32mrule align_reads_se:
    input: reads/SRX252744/SRR787513.chr15.fastq, results/indexes/hg19/hg19.1.bt2, results/indexes/hg19/hg19.2.bt2, results/indexes/hg19/hg19.3.bt2, results/indexes/hg19/hg19.4.bt2, results/indexes/hg19/hg19.rev.1.bt2, results/indexes/hg19/hg19.rev.2.bt2
    output: results/bams/GSM1102807_CD14_input_hg19.bam
    log: logs/bams/GSM1102807_CD14_input_hg19.bam.log
    jobid: 27
    benchmark: logs/benchmarks/bams/GSM1102807_CD14_input_hg19.bam.txt
    reason: Missing output files: results/bams/GSM1102807_CD14_input_hg19.bam; Code has changed since last execution
    wildcards: sample=GSM1102807_CD14_input, genome=hg19
    threads: 4
    resources: mem_mb=8009, mem_mib=7638, disk_mb=8009, disk_mib=7638, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "align_reads_se", "local": false, "input": ["reads/SRX252744/SRR787513.chr15.fastq", "results/indexes/hg19/hg19.1.bt2", "results/indexes/hg19/hg19.2.bt2", "results/indexes/hg19/hg19.3.bt2", "results/indexes/hg19/hg19.4.bt2", "results/indexes/hg19/hg19.rev.1.bt2", "results/indexes/hg19/hg19.rev.2.bt2"], "output": ["results/bams/GSM1102807_CD14_input_hg19.bam"], "wildcards": {"sample": "GSM1102807_CD14_input", "genome": "hg19"}, "params": {"index": "results/indexes/hg19/hg19", "extra": ""}, "log": ["logs/bams/GSM1102807_CD14_input_hg19.bam.log"], "threads": 4, "resources": {"mem_mb": 8009, "mem_mib": 7638, "disk_mb": 8009, "disk_mib": 7638, "tmpdir": "<TBD>"}, "jobid": 27, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'align_reads_se:sample=GSM1102807_CD14_input,genome=hg19' --allowed-rules 'align_reads_se' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=8009' 'mem_mib=7638' 'disk_mb=8009' 'disk_mib=7638' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'reads/SRX252744/SRR787513.chr15.fastq' 'results/indexes/hg19/hg19.1.bt2' 'results/indexes/hg19/hg19.2.bt2' 'results/indexes/hg19/hg19.3.bt2' 'results/indexes/hg19/hg19.4.bt2' 'results/indexes/hg19/hg19.rev.1.bt2' 'results/indexes/hg19/hg19.rev.2.bt2' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/94f77c0dfe3f3a14358ceab7b36b463d' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj27.align_reads_se.225.sample=GSM1102807_CD14_input.genome=hg19' -q 'general' -n '4' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams/GSM1102807_CD14_input_hg19.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.align_reads_se.27.sh']
[33mSubmitted job 27 with external jobid '140560'.[0m
Traceback (most recent call last):
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpi2uy3zht.wrapper.py", line 23, in <module>
    shell(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  multiqc  --force -o results/qc/multiqc -n reads.html results/qc/fastqc  > logs/qc/multiqc/reads.log 2>&1' returned non-zero exit status 1.
[34mFull Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 62, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/wrapper.py", line 107, in wrapper
    script(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 1567, in script
    executor.evaluate()
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 455, in evaluate
    self.execute_script(fd.name, edit=edit)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 683, in execute_script
    self._execute_cmd(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 486, in _execute_cmd
    return shell(
           ^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpi2uy3zht.wrapper.py' returned non-zero exit status 1.
[0m
[32m[Sun Aug  6 04:41:50 2023][0m
[31mError in rule reads_multiqc:
    jobid: 1
    input: results/qc/fastqc/GSM1102782_CD14_H3K27ac.html, results/qc/fastqc/GSM1102785_CD14_H3K27me3.html, results/qc/fastqc/GSM1102788_CD14_H3K36me3.html, results/qc/fastqc/GSM1102793_CD14_H3K4me1.html, results/qc/fastqc/GSM1102797_CD14_H3K4me3.html, results/qc/fastqc/GSM1102807_CD14_input.html, results/qc/fastqc/GSM1102782_CD14_H3K27ac_fastqc.zip, results/qc/fastqc/GSM1102785_CD14_H3K27me3_fastqc.zip, results/qc/fastqc/GSM1102788_CD14_H3K36me3_fastqc.zip, results/qc/fastqc/GSM1102793_CD14_H3K4me1_fastqc.zip, results/qc/fastqc/GSM1102797_CD14_H3K4me3_fastqc.zip, results/qc/fastqc/GSM1102807_CD14_input_fastqc.zip
    output: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    log: logs/qc/multiqc/reads.log (check log file(s) for error details)
    conda-env: /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f
[0m
[34mFull Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 62, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/wrapper.py", line 107, in wrapper
    script(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 1567, in script
    executor.evaluate()
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 455, in evaluate
    self.execute_script(fd.name, edit=edit)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 683, in execute_script
    self._execute_cmd(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 486, in _execute_cmd
    return shell(
           ^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpi2uy3zht.wrapper.py' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 715, in _callback
    raise ex
  File "/opt/conda/envs/snakemake/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 699, in cached_or_run
    run_func(*args)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2692, in run_wrapper
    raise RuleException(
snakemake.exceptions.RuleException: CalledProcessError in file /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk, line 24:
Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpi2uy3zht.wrapper.py' returned non-zero exit status 1.
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 24, in __rule_reads_multiqc
[0m
[31mRuleException:
CalledProcessError in file /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk, line 24:
Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpi2uy3zht.wrapper.py' returned non-zero exit status 1.
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 24, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/concurrent/futures/thread.py", line 58, in run[0m
[33mTrying to restart job 1.[0m
[34mResources before job selection: {'_cores': 9223372036854775783, '_nodes': 44}[0m
[34mReady jobs (1)[0m
[33mSelect jobs to execute...[0m
[34mUsing greedy selector because only single job has to be scheduled.[0m
[34mSelected jobs (1)[0m
[34mResources after job selection: {'_cores': 9223372036854775782, '_nodes': 43}[0m
[32m[0m
[32m[Sun Aug  6 04:41:50 2023][0m
[32mlocalrule reads_multiqc:
    input: results/qc/fastqc/GSM1102782_CD14_H3K27ac.html, results/qc/fastqc/GSM1102785_CD14_H3K27me3.html, results/qc/fastqc/GSM1102788_CD14_H3K36me3.html, results/qc/fastqc/GSM1102793_CD14_H3K4me1.html, results/qc/fastqc/GSM1102797_CD14_H3K4me3.html, results/qc/fastqc/GSM1102807_CD14_input.html, results/qc/fastqc/GSM1102782_CD14_H3K27ac_fastqc.zip, results/qc/fastqc/GSM1102785_CD14_H3K27me3_fastqc.zip, results/qc/fastqc/GSM1102788_CD14_H3K36me3_fastqc.zip, results/qc/fastqc/GSM1102793_CD14_H3K4me1_fastqc.zip, results/qc/fastqc/GSM1102797_CD14_H3K4me3_fastqc.zip, results/qc/fastqc/GSM1102807_CD14_input_fastqc.zip
    output: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    log: logs/qc/multiqc/reads.log
    jobid: 1
    reason: Missing output files: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp[0m
[32m[0m
[33mpython -c "from __future__ import print_function; import sys, json; print(json.dumps([sys.version_info.major, sys.version_info.minor]))"[0m
[33mActivating conda environment: .snakemake/conda/c85d1f577c38c61775d501a740f6b68f[0m
[33mpython /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpuznazenl.wrapper.py[0m
[33mActivating conda environment: .snakemake/conda/c85d1f577c38c61775d501a740f6b68f[0m
multiqc  --force -o results/qc/multiqc -n reads.html results/qc/fastqc  > logs/qc/multiqc/reads.log 2>&1
Traceback (most recent call last):
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpuznazenl.wrapper.py", line 23, in <module>
    shell(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  multiqc  --force -o results/qc/multiqc -n reads.html results/qc/fastqc  > logs/qc/multiqc/reads.log 2>&1' returned non-zero exit status 1.
[34mFull Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 62, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/wrapper.py", line 107, in wrapper
    script(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 1567, in script
    executor.evaluate()
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 455, in evaluate
    self.execute_script(fd.name, edit=edit)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 683, in execute_script
    self._execute_cmd(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 486, in _execute_cmd
    return shell(
           ^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpuznazenl.wrapper.py' returned non-zero exit status 1.
[0m
[32m[Sun Aug  6 04:41:53 2023][0m
[31mError in rule reads_multiqc:
    jobid: 1
    input: results/qc/fastqc/GSM1102782_CD14_H3K27ac.html, results/qc/fastqc/GSM1102785_CD14_H3K27me3.html, results/qc/fastqc/GSM1102788_CD14_H3K36me3.html, results/qc/fastqc/GSM1102793_CD14_H3K4me1.html, results/qc/fastqc/GSM1102797_CD14_H3K4me3.html, results/qc/fastqc/GSM1102807_CD14_input.html, results/qc/fastqc/GSM1102782_CD14_H3K27ac_fastqc.zip, results/qc/fastqc/GSM1102785_CD14_H3K27me3_fastqc.zip, results/qc/fastqc/GSM1102788_CD14_H3K36me3_fastqc.zip, results/qc/fastqc/GSM1102793_CD14_H3K4me1_fastqc.zip, results/qc/fastqc/GSM1102797_CD14_H3K4me3_fastqc.zip, results/qc/fastqc/GSM1102807_CD14_input_fastqc.zip
    output: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    log: logs/qc/multiqc/reads.log (check log file(s) for error details)
    conda-env: /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f
[0m
[34mFull Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 62, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/wrapper.py", line 107, in wrapper
    script(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 1567, in script
    executor.evaluate()
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 455, in evaluate
    self.execute_script(fd.name, edit=edit)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 683, in execute_script
    self._execute_cmd(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 486, in _execute_cmd
    return shell(
           ^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpuznazenl.wrapper.py' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 715, in _callback
    raise ex
  File "/opt/conda/envs/snakemake/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 699, in cached_or_run
    run_func(*args)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2692, in run_wrapper
    raise RuleException(
snakemake.exceptions.RuleException: CalledProcessError in file /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk, line 24:
Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpuznazenl.wrapper.py' returned non-zero exit status 1.
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 24, in __rule_reads_multiqc
[0m
[31mRuleException:
CalledProcessError in file /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk, line 24:
Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpuznazenl.wrapper.py' returned non-zero exit status 1.
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 24, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/concurrent/futures/thread.py", line 58, in run[0m
[33mTrying to restart job 1.[0m
[34mResources before job selection: {'_cores': 9223372036854775783, '_nodes': 44}[0m
[34mReady jobs (1)[0m
[33mSelect jobs to execute...[0m
[34mUsing greedy selector because only single job has to be scheduled.[0m
[34mSelected jobs (1)[0m
[34mResources after job selection: {'_cores': 9223372036854775782, '_nodes': 43}[0m
[32m[0m
[32m[Sun Aug  6 04:41:53 2023][0m
[32mlocalrule reads_multiqc:
    input: results/qc/fastqc/GSM1102782_CD14_H3K27ac.html, results/qc/fastqc/GSM1102785_CD14_H3K27me3.html, results/qc/fastqc/GSM1102788_CD14_H3K36me3.html, results/qc/fastqc/GSM1102793_CD14_H3K4me1.html, results/qc/fastqc/GSM1102797_CD14_H3K4me3.html, results/qc/fastqc/GSM1102807_CD14_input.html, results/qc/fastqc/GSM1102782_CD14_H3K27ac_fastqc.zip, results/qc/fastqc/GSM1102785_CD14_H3K27me3_fastqc.zip, results/qc/fastqc/GSM1102788_CD14_H3K36me3_fastqc.zip, results/qc/fastqc/GSM1102793_CD14_H3K4me1_fastqc.zip, results/qc/fastqc/GSM1102797_CD14_H3K4me3_fastqc.zip, results/qc/fastqc/GSM1102807_CD14_input_fastqc.zip
    output: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    log: logs/qc/multiqc/reads.log
    jobid: 1
    reason: Missing output files: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp[0m
[32m[0m
[33mpython -c "from __future__ import print_function; import sys, json; print(json.dumps([sys.version_info.major, sys.version_info.minor]))"[0m
[33mActivating conda environment: .snakemake/conda/c85d1f577c38c61775d501a740f6b68f[0m
[33mpython /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpynrzy1t8.wrapper.py[0m
[33mActivating conda environment: .snakemake/conda/c85d1f577c38c61775d501a740f6b68f[0m
multiqc  --force -o results/qc/multiqc -n reads.html results/qc/fastqc  > logs/qc/multiqc/reads.log 2>&1
Traceback (most recent call last):
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpynrzy1t8.wrapper.py", line 23, in <module>
    shell(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  multiqc  --force -o results/qc/multiqc -n reads.html results/qc/fastqc  > logs/qc/multiqc/reads.log 2>&1' returned non-zero exit status 1.
[34mFull Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 62, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/wrapper.py", line 107, in wrapper
    script(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 1567, in script
    executor.evaluate()
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 455, in evaluate
    self.execute_script(fd.name, edit=edit)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 683, in execute_script
    self._execute_cmd(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 486, in _execute_cmd
    return shell(
           ^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpynrzy1t8.wrapper.py' returned non-zero exit status 1.
[0m
[32m[Sun Aug  6 04:41:55 2023][0m
[31mError in rule reads_multiqc:
    jobid: 1
    input: results/qc/fastqc/GSM1102782_CD14_H3K27ac.html, results/qc/fastqc/GSM1102785_CD14_H3K27me3.html, results/qc/fastqc/GSM1102788_CD14_H3K36me3.html, results/qc/fastqc/GSM1102793_CD14_H3K4me1.html, results/qc/fastqc/GSM1102797_CD14_H3K4me3.html, results/qc/fastqc/GSM1102807_CD14_input.html, results/qc/fastqc/GSM1102782_CD14_H3K27ac_fastqc.zip, results/qc/fastqc/GSM1102785_CD14_H3K27me3_fastqc.zip, results/qc/fastqc/GSM1102788_CD14_H3K36me3_fastqc.zip, results/qc/fastqc/GSM1102793_CD14_H3K4me1_fastqc.zip, results/qc/fastqc/GSM1102797_CD14_H3K4me3_fastqc.zip, results/qc/fastqc/GSM1102807_CD14_input_fastqc.zip
    output: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    log: logs/qc/multiqc/reads.log (check log file(s) for error details)
    conda-env: /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f
[0m
[34mFull Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 62, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/wrapper.py", line 107, in wrapper
    script(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 1567, in script
    executor.evaluate()
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 455, in evaluate
    self.execute_script(fd.name, edit=edit)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 683, in execute_script
    self._execute_cmd(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 486, in _execute_cmd
    return shell(
           ^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpynrzy1t8.wrapper.py' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 715, in _callback
    raise ex
  File "/opt/conda/envs/snakemake/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 699, in cached_or_run
    run_func(*args)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2692, in run_wrapper
    raise RuleException(
snakemake.exceptions.RuleException: CalledProcessError in file /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk, line 24:
Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpynrzy1t8.wrapper.py' returned non-zero exit status 1.
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 24, in __rule_reads_multiqc
[0m
[31mRuleException:
CalledProcessError in file /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk, line 24:
Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpynrzy1t8.wrapper.py' returned non-zero exit status 1.
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 24, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/concurrent/futures/thread.py", line 58, in run[0m
[33mTrying to restart job 1.[0m
[34mResources before job selection: {'_cores': 9223372036854775783, '_nodes': 44}[0m
[34mReady jobs (1)[0m
[33mSelect jobs to execute...[0m
[34mUsing greedy selector because only single job has to be scheduled.[0m
[34mSelected jobs (1)[0m
[34mResources after job selection: {'_cores': 9223372036854775782, '_nodes': 43}[0m
[32m[0m
[32m[Sun Aug  6 04:41:55 2023][0m
[32mlocalrule reads_multiqc:
    input: results/qc/fastqc/GSM1102782_CD14_H3K27ac.html, results/qc/fastqc/GSM1102785_CD14_H3K27me3.html, results/qc/fastqc/GSM1102788_CD14_H3K36me3.html, results/qc/fastqc/GSM1102793_CD14_H3K4me1.html, results/qc/fastqc/GSM1102797_CD14_H3K4me3.html, results/qc/fastqc/GSM1102807_CD14_input.html, results/qc/fastqc/GSM1102782_CD14_H3K27ac_fastqc.zip, results/qc/fastqc/GSM1102785_CD14_H3K27me3_fastqc.zip, results/qc/fastqc/GSM1102788_CD14_H3K36me3_fastqc.zip, results/qc/fastqc/GSM1102793_CD14_H3K4me1_fastqc.zip, results/qc/fastqc/GSM1102797_CD14_H3K4me3_fastqc.zip, results/qc/fastqc/GSM1102807_CD14_input_fastqc.zip
    output: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    log: logs/qc/multiqc/reads.log
    jobid: 1
    reason: Missing output files: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp[0m
[32m[0m
[33mpython -c "from __future__ import print_function; import sys, json; print(json.dumps([sys.version_info.major, sys.version_info.minor]))"[0m
[33mActivating conda environment: .snakemake/conda/c85d1f577c38c61775d501a740f6b68f[0m
[33mpython /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpqrea9q9q.wrapper.py[0m
[33mActivating conda environment: .snakemake/conda/c85d1f577c38c61775d501a740f6b68f[0m
multiqc  --force -o results/qc/multiqc -n reads.html results/qc/fastqc  > logs/qc/multiqc/reads.log 2>&1
Traceback (most recent call last):
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpqrea9q9q.wrapper.py", line 23, in <module>
    shell(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'set -euo pipefail;  multiqc  --force -o results/qc/multiqc -n reads.html results/qc/fastqc  > logs/qc/multiqc/reads.log 2>&1' returned non-zero exit status 1.
[34mFull Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 62, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/wrapper.py", line 107, in wrapper
    script(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 1567, in script
    executor.evaluate()
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 455, in evaluate
    self.execute_script(fd.name, edit=edit)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 683, in execute_script
    self._execute_cmd(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 486, in _execute_cmd
    return shell(
           ^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpqrea9q9q.wrapper.py' returned non-zero exit status 1.
[0m
[32m[Sun Aug  6 04:41:58 2023][0m
[31mError in rule reads_multiqc:
    jobid: 1
    input: results/qc/fastqc/GSM1102782_CD14_H3K27ac.html, results/qc/fastqc/GSM1102785_CD14_H3K27me3.html, results/qc/fastqc/GSM1102788_CD14_H3K36me3.html, results/qc/fastqc/GSM1102793_CD14_H3K4me1.html, results/qc/fastqc/GSM1102797_CD14_H3K4me3.html, results/qc/fastqc/GSM1102807_CD14_input.html, results/qc/fastqc/GSM1102782_CD14_H3K27ac_fastqc.zip, results/qc/fastqc/GSM1102785_CD14_H3K27me3_fastqc.zip, results/qc/fastqc/GSM1102788_CD14_H3K36me3_fastqc.zip, results/qc/fastqc/GSM1102793_CD14_H3K4me1_fastqc.zip, results/qc/fastqc/GSM1102797_CD14_H3K4me3_fastqc.zip, results/qc/fastqc/GSM1102807_CD14_input_fastqc.zip
    output: results/qc/multiqc/reads.html, results/qc/multiqc/reads_data
    log: logs/qc/multiqc/reads.log (check log file(s) for error details)
    conda-env: /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f
[0m
[34mFull Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2656, in run_wrapper
    run(
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 62, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/wrapper.py", line 107, in wrapper
    script(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 1567, in script
    executor.evaluate()
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 455, in evaluate
    self.execute_script(fd.name, edit=edit)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 683, in execute_script
    self._execute_cmd(
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/script.py", line 486, in _execute_cmd
    return shell(
           ^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/shell.py", line 294, in __new__
    raise sp.CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpqrea9q9q.wrapper.py' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 715, in _callback
    raise ex
  File "/opt/conda/envs/snakemake/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 699, in cached_or_run
    run_func(*args)
  File "/opt/conda/envs/snakemake/lib/python3.11/site-packages/snakemake/executors/__init__.py", line 2692, in run_wrapper
    raise RuleException(
snakemake.exceptions.RuleException: CalledProcessError in file /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk, line 24:
Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpqrea9q9q.wrapper.py' returned non-zero exit status 1.
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 24, in __rule_reads_multiqc
[0m
[31mRuleException:
CalledProcessError in file /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk, line 24:
Command 'source /opt/conda/bin/activate '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/c85d1f577c38c61775d501a740f6b68f'; set -euo pipefail;  python /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/scripts/tmpqrea9q9q.wrapper.py' returned non-zero exit status 1.
  File "/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/rules/reads_qc.smk", line 24, in __rule_reads_multiqc
  File "/opt/conda/envs/snakemake/lib/python3.11/concurrent/futures/thread.py", line 58, in run[0m
[32m[Sun Aug  6 04:42:59 2023][0m
[32mFinished job 24.[0m
[32m1 of 26 steps (4%) done[0m
[34mResources before job selection: {'_cores': 9223372036854775787, '_nodes': 45}[0m
[34mReady jobs (1)[0m
[33mSelect jobs to execute...[0m
[34mUsing greedy selector because only single job has to be scheduled.[0m
[34mSelected jobs (1)[0m
[34mResources after job selection: {'_cores': 9223372036854775786, '_nodes': 44}[0m
[32m[0m
[32m[Sun Aug  6 04:42:59 2023][0m
[32mrule bam_sort:
    input: results/bams/GSM1102797_CD14_H3K4me3_hg19.bam
    output: results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam, results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bai
    log: logs/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam.log
    jobid: 23
    benchmark: logs/benchmarks/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam.txt
    reason: Input files updated by another job: results/bams/GSM1102797_CD14_H3K4me3_hg19.bam
    wildcards: sample=GSM1102797_CD14_H3K4me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_sort", "local": false, "input": ["results/bams/GSM1102797_CD14_H3K4me3_hg19.bam"], "output": ["results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam", "results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bai"], "wildcards": {"sample": "GSM1102797_CD14_H3K4me3", "genome": "hg19"}, "params": {"sort_order": "coordinate", "extra": "VALIDATION_STRINGENCY=LENIENT CREATE_INDEX=TRUE"}, "log": ["logs/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 23, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_sort:sample=GSM1102797_CD14_H3K4me3,genome=hg19' --allowed-rules 'bam_sort' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams/GSM1102797_CD14_H3K4me3_hg19.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/6341e136b80076549322f24e1a7cc00a' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj23.bam_sort.453.sample=GSM1102797_CD14_H3K4me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_sort.23.sh']
[33mSubmitted job 23 with external jobid '140564'.[0m
[32m[Sun Aug  6 04:43:00 2023][0m
[32mFinished job 15.[0m
[32m2 of 26 steps (8%) done[0m
[32m[Sun Aug  6 04:43:00 2023][0m
[32mFinished job 18.[0m
[32m3 of 26 steps (12%) done[0m
[32m[Sun Aug  6 04:43:00 2023][0m
[32mFinished job 10.[0m
[32m4 of 26 steps (15%) done[0m
[34mResources before job selection: {'_cores': 9223372036854775798, '_nodes': 47}[0m
[34mReady jobs (3)[0m
[33mSelect jobs to execute...[0m
Welcome to the CBC MILP Solver 
Version: 2.10.10 
Build Date: Apr 19 2023 

command line - cbc /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/c6a0802dd6434ea2b323b0c189d5a861-pulp.mps max timeMode elapsed branch printingOptions all solution /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/c6a0802dd6434ea2b323b0c189d5a861-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 13 COLUMNS
At line 53 RHS
At line 62 BOUNDS
At line 72 ENDATA
Problem MODEL has 8 rows, 9 columns and 18 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 6.22826 - 0.00 seconds
Cgl0004I processed model has 0 rows, 0 columns (0 integer (0 of which binary)) and 0 elements
Cbc3007W No integer variables - nothing to do
Cuts at root node changed objective from 6.22826 to 1.79769e+308
Probing was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                6.22826369
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.02
Time (Wallclock seconds):       0.00

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.04   (Wallclock seconds):       0.00

[34mSelected jobs (3)[0m
[34mResources after job selection: {'_cores': 9223372036854775795, '_nodes': 44}[0m
[32m[0m
[32m[Sun Aug  6 04:43:00 2023][0m
[32mrule bam_sort:
    input: results/bams/GSM1102785_CD14_H3K27me3_hg19.bam
    output: results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam, results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bai
    log: logs/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam.log
    jobid: 14
    benchmark: logs/benchmarks/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam.txt
    reason: Input files updated by another job: results/bams/GSM1102785_CD14_H3K27me3_hg19.bam
    wildcards: sample=GSM1102785_CD14_H3K27me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_sort", "local": false, "input": ["results/bams/GSM1102785_CD14_H3K27me3_hg19.bam"], "output": ["results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam", "results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bai"], "wildcards": {"sample": "GSM1102785_CD14_H3K27me3", "genome": "hg19"}, "params": {"sort_order": "coordinate", "extra": "VALIDATION_STRINGENCY=LENIENT CREATE_INDEX=TRUE"}, "log": ["logs/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 14, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_sort:sample=GSM1102785_CD14_H3K27me3,genome=hg19' --allowed-rules 'bam_sort' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams/GSM1102785_CD14_H3K27me3_hg19.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/6341e136b80076549322f24e1a7cc00a' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj14.bam_sort.525.sample=GSM1102785_CD14_H3K27me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_sort.14.sh']
[33mSubmitted job 14 with external jobid '140565'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:00 2023][0m
[32mrule bam_sort:
    input: results/bams/GSM1102788_CD14_H3K36me3_hg19.bam
    output: results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam, results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bai
    log: logs/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam.log
    jobid: 17
    benchmark: logs/benchmarks/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam.txt
    reason: Input files updated by another job: results/bams/GSM1102788_CD14_H3K36me3_hg19.bam
    wildcards: sample=GSM1102788_CD14_H3K36me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_sort", "local": false, "input": ["results/bams/GSM1102788_CD14_H3K36me3_hg19.bam"], "output": ["results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam", "results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bai"], "wildcards": {"sample": "GSM1102788_CD14_H3K36me3", "genome": "hg19"}, "params": {"sort_order": "coordinate", "extra": "VALIDATION_STRINGENCY=LENIENT CREATE_INDEX=TRUE"}, "log": ["logs/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 17, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_sort:sample=GSM1102788_CD14_H3K36me3,genome=hg19' --allowed-rules 'bam_sort' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams/GSM1102788_CD14_H3K36me3_hg19.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/6341e136b80076549322f24e1a7cc00a' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj17.bam_sort.550.sample=GSM1102788_CD14_H3K36me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_sort.17.sh']
[33mSubmitted job 17 with external jobid '140566'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:01 2023][0m
[32mrule bam_sort:
    input: results/bams/GSM1102782_CD14_H3K27ac_hg19.bam
    output: results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam, results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bai
    log: logs/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam.log
    jobid: 9
    benchmark: logs/benchmarks/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam.txt
    reason: Input files updated by another job: results/bams/GSM1102782_CD14_H3K27ac_hg19.bam
    wildcards: sample=GSM1102782_CD14_H3K27ac, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_sort", "local": false, "input": ["results/bams/GSM1102782_CD14_H3K27ac_hg19.bam"], "output": ["results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam", "results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bai"], "wildcards": {"sample": "GSM1102782_CD14_H3K27ac", "genome": "hg19"}, "params": {"sort_order": "coordinate", "extra": "VALIDATION_STRINGENCY=LENIENT CREATE_INDEX=TRUE"}, "log": ["logs/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 9, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_sort:sample=GSM1102782_CD14_H3K27ac,genome=hg19' --allowed-rules 'bam_sort' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams/GSM1102782_CD14_H3K27ac_hg19.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/6341e136b80076549322f24e1a7cc00a' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj9.bam_sort.575.sample=GSM1102782_CD14_H3K27ac.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_sort.9.sh']
[33mSubmitted job 9 with external jobid '140567'.[0m
[32m[Sun Aug  6 04:43:01 2023][0m
[32mFinished job 27.[0m
[32m5 of 26 steps (19%) done[0m
[34mResources before job selection: {'_cores': 9223372036854775799, '_nodes': 45}[0m
[34mReady jobs (1)[0m
[33mSelect jobs to execute...[0m
[34mUsing greedy selector because only single job has to be scheduled.[0m
[34mSelected jobs (1)[0m
[34mResources after job selection: {'_cores': 9223372036854775798, '_nodes': 44}[0m
[32m[0m
[32m[Sun Aug  6 04:43:01 2023][0m
[32mrule bam_sort:
    input: results/bams/GSM1102807_CD14_input_hg19.bam
    output: results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam, results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bai
    log: logs/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam.log
    jobid: 26
    benchmark: logs/benchmarks/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam.txt
    reason: Input files updated by another job: results/bams/GSM1102807_CD14_input_hg19.bam
    wildcards: sample=GSM1102807_CD14_input, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_sort", "local": false, "input": ["results/bams/GSM1102807_CD14_input_hg19.bam"], "output": ["results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam", "results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bai"], "wildcards": {"sample": "GSM1102807_CD14_input", "genome": "hg19"}, "params": {"sort_order": "coordinate", "extra": "VALIDATION_STRINGENCY=LENIENT CREATE_INDEX=TRUE"}, "log": ["logs/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 26, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_sort:sample=GSM1102807_CD14_input,genome=hg19' --allowed-rules 'bam_sort' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams/GSM1102807_CD14_input_hg19.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/6341e136b80076549322f24e1a7cc00a' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj26.bam_sort.600.sample=GSM1102807_CD14_input.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_sort.26.sh']
[33mSubmitted job 26 with external jobid '140568'.[0m
[32m[Sun Aug  6 04:43:10 2023][0m
[32mFinished job 21.[0m
[32m6 of 26 steps (23%) done[0m
[34mResources before job selection: {'_cores': 9223372036854775802, '_nodes': 45}[0m
[34mReady jobs (1)[0m
[33mSelect jobs to execute...[0m
[34mUsing greedy selector because only single job has to be scheduled.[0m
[34mSelected jobs (1)[0m
[34mResources after job selection: {'_cores': 9223372036854775801, '_nodes': 44}[0m
[32m[0m
[32m[Sun Aug  6 04:43:10 2023][0m
[32mrule bam_sort:
    input: results/bams/GSM1102793_CD14_H3K4me1_hg19.bam
    output: results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam, results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bai
    log: logs/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam.log
    jobid: 20
    benchmark: logs/benchmarks/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam.txt
    reason: Input files updated by another job: results/bams/GSM1102793_CD14_H3K4me1_hg19.bam
    wildcards: sample=GSM1102793_CD14_H3K4me1, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_sort", "local": false, "input": ["results/bams/GSM1102793_CD14_H3K4me1_hg19.bam"], "output": ["results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam", "results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bai"], "wildcards": {"sample": "GSM1102793_CD14_H3K4me1", "genome": "hg19"}, "params": {"sort_order": "coordinate", "extra": "VALIDATION_STRINGENCY=LENIENT CREATE_INDEX=TRUE"}, "log": ["logs/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 20, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_sort:sample=GSM1102793_CD14_H3K4me1,genome=hg19' --allowed-rules 'bam_sort' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams/GSM1102793_CD14_H3K4me1_hg19.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/6341e136b80076549322f24e1a7cc00a' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj20.bam_sort.636.sample=GSM1102793_CD14_H3K4me1.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_sort.20.sh']
[33mSubmitted job 20 with external jobid '140570'.[0m
[32m[Sun Aug  6 04:43:31 2023][0m
[32mFinished job 14.[0m
[32m7 of 26 steps (27%) done[0m
[33mRemoving temporary output results/bams/GSM1102785_CD14_H3K27me3_hg19.bam.[0m
[34mResources before job selection: {'_cores': 9223372036854775802, '_nodes': 45}[0m
[34mReady jobs (2)[0m
[33mSelect jobs to execute...[0m
Welcome to the CBC MILP Solver 
Version: 2.10.10 
Build Date: Apr 19 2023 

command line - cbc /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/2ba88207720c4232a998bca13cd82a4a-pulp.mps max timeMode elapsed branch printingOptions all solution /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/2ba88207720c4232a998bca13cd82a4a-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 7 COLUMNS
At line 18 RHS
At line 21 BOUNDS
At line 24 ENDATA
Problem MODEL has 2 rows, 2 columns and 4 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 4 - 0.00 seconds
Cgl0004I processed model has 0 rows, 0 columns (0 integer (0 of which binary)) and 0 elements
Cbc3007W No integer variables - nothing to do
Cuts at root node changed objective from 4 to 1.79769e+308
Probing was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                4.00000000
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.02
Time (Wallclock seconds):       0.00

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.03   (Wallclock seconds):       0.00

[34mSelected jobs (2)[0m
[34mResources after job selection: {'_cores': 9223372036854775800, '_nodes': 43}[0m
[32m[0m
[32m[Sun Aug  6 04:43:31 2023][0m
[32mrule bam_bigwig:
    input: results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam, results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bai
    output: results/bigwig/GSM1102785_CD14_H3K27me3_hg19.bw
    log: logs/bigwig/GSM1102785_CD14_H3K27me3_hg19.bw.log
    jobid: 13
    benchmark: logs/benchmarks/bigwig/GSM1102785_CD14_H3K27me3_hg19.bw.txt
    reason: Input files updated by another job: results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam, results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bai
    wildcards: sample=GSM1102785_CD14_H3K27me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[33mbamCoverage -b results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam -o results/bigwig/GSM1102785_CD14_H3K27me3_hg19.bw &> logs/bigwig/GSM1102785_CD14_H3K27me3_hg19.bw.log[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_bigwig", "local": false, "input": ["results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam", "results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bai"], "output": ["results/bigwig/GSM1102785_CD14_H3K27me3_hg19.bw"], "wildcards": {"sample": "GSM1102785_CD14_H3K27me3", "genome": "hg19"}, "params": {}, "log": ["logs/bigwig/GSM1102785_CD14_H3K27me3_hg19.bw.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 13, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_bigwig:sample=GSM1102785_CD14_H3K27me3,genome=hg19' --allowed-rules 'bam_bigwig' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam' 'results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bai' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/56a8cd6755a0b273be6114da236dcc79' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj13.bam_bigwig.750.sample=GSM1102785_CD14_H3K27me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bigwig/GSM1102785_CD14_H3K27me3_hg19.bw.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_bigwig.13.sh']
[33mSubmitted job 13 with external jobid '140571'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:31 2023][0m
[32mrule call_peak:
    input: results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam
    output: results/macs2/GSM1102785_CD14_H3K27me3_hg19_peaks.xls, results/macs2/GSM1102785_CD14_H3K27me3_hg19_peaks.narrowPeak
    log: logs/macs2/GSM1102785_CD14_H3K27me3_hg19_callpeak.log
    jobid: 29
    reason: Input files updated by another job: results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam
    wildcards: sample=GSM1102785_CD14_H3K27me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "call_peak", "local": false, "input": ["results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam"], "output": ["results/macs2/GSM1102785_CD14_H3K27me3_hg19_peaks.xls", "results/macs2/GSM1102785_CD14_H3K27me3_hg19_peaks.narrowPeak"], "wildcards": {"sample": "GSM1102785_CD14_H3K27me3", "genome": "hg19"}, "params": {}, "log": ["logs/macs2/GSM1102785_CD14_H3K27me3_hg19_callpeak.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 29, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'call_peak:sample=GSM1102785_CD14_H3K27me3,genome=hg19' --allowed-rules 'call_peak' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102785_CD14_H3K27me3_hg19.sorted.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/dfdd8dbba663206f3cd284790cdc82a8' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj29.call_peak.780.sample=GSM1102785_CD14_H3K27me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/macs2/GSM1102785_CD14_H3K27me3_hg19_callpeak.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.call_peak.29.sh']
[33mSubmitted job 29 with external jobid '140572'.[0m
[32m[Sun Aug  6 04:43:32 2023][0m
[32mFinished job 17.[0m
[32m8 of 26 steps (31%) done[0m
[33mRemoving temporary output results/bams/GSM1102788_CD14_H3K36me3_hg19.bam.[0m
[34mResources before job selection: {'_cores': 9223372036854775801, '_nodes': 44}[0m
[34mReady jobs (2)[0m
[33mSelect jobs to execute...[0m
Welcome to the CBC MILP Solver 
Version: 2.10.10 
Build Date: Apr 19 2023 

command line - cbc /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/be5583828ff3499499261c62a4917bd3-pulp.mps max timeMode elapsed branch printingOptions all solution /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/be5583828ff3499499261c62a4917bd3-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 7 COLUMNS
At line 18 RHS
At line 21 BOUNDS
At line 24 ENDATA
Problem MODEL has 2 rows, 2 columns and 4 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 4 - 0.00 seconds
Cgl0004I processed model has 0 rows, 0 columns (0 integer (0 of which binary)) and 0 elements
Cbc3007W No integer variables - nothing to do
Cuts at root node changed objective from 4 to 1.79769e+308
Probing was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                4.00000000
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.02
Time (Wallclock seconds):       0.00

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.03   (Wallclock seconds):       0.00

[34mSelected jobs (2)[0m
[34mResources after job selection: {'_cores': 9223372036854775799, '_nodes': 42}[0m
[32m[0m
[32m[Sun Aug  6 04:43:32 2023][0m
[32mrule bam_bigwig:
    input: results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam, results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bai
    output: results/bigwig/GSM1102788_CD14_H3K36me3_hg19.bw
    log: logs/bigwig/GSM1102788_CD14_H3K36me3_hg19.bw.log
    jobid: 16
    benchmark: logs/benchmarks/bigwig/GSM1102788_CD14_H3K36me3_hg19.bw.txt
    reason: Input files updated by another job: results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bai, results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam
    wildcards: sample=GSM1102788_CD14_H3K36me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[33mbamCoverage -b results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam -o results/bigwig/GSM1102788_CD14_H3K36me3_hg19.bw &> logs/bigwig/GSM1102788_CD14_H3K36me3_hg19.bw.log[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_bigwig", "local": false, "input": ["results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam", "results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bai"], "output": ["results/bigwig/GSM1102788_CD14_H3K36me3_hg19.bw"], "wildcards": {"sample": "GSM1102788_CD14_H3K36me3", "genome": "hg19"}, "params": {}, "log": ["logs/bigwig/GSM1102788_CD14_H3K36me3_hg19.bw.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 16, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_bigwig:sample=GSM1102788_CD14_H3K36me3,genome=hg19' --allowed-rules 'bam_bigwig' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam' 'results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bai' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/56a8cd6755a0b273be6114da236dcc79' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj16.bam_bigwig.838.sample=GSM1102788_CD14_H3K36me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bigwig/GSM1102788_CD14_H3K36me3_hg19.bw.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_bigwig.16.sh']
[33mSubmitted job 16 with external jobid '140573'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:32 2023][0m
[32mrule call_peak:
    input: results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam
    output: results/macs2/GSM1102788_CD14_H3K36me3_hg19_peaks.xls, results/macs2/GSM1102788_CD14_H3K36me3_hg19_peaks.narrowPeak
    log: logs/macs2/GSM1102788_CD14_H3K36me3_hg19_callpeak.log
    jobid: 30
    reason: Input files updated by another job: results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam
    wildcards: sample=GSM1102788_CD14_H3K36me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "call_peak", "local": false, "input": ["results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam"], "output": ["results/macs2/GSM1102788_CD14_H3K36me3_hg19_peaks.xls", "results/macs2/GSM1102788_CD14_H3K36me3_hg19_peaks.narrowPeak"], "wildcards": {"sample": "GSM1102788_CD14_H3K36me3", "genome": "hg19"}, "params": {}, "log": ["logs/macs2/GSM1102788_CD14_H3K36me3_hg19_callpeak.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 30, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'call_peak:sample=GSM1102788_CD14_H3K36me3,genome=hg19' --allowed-rules 'call_peak' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102788_CD14_H3K36me3_hg19.sorted.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/dfdd8dbba663206f3cd284790cdc82a8' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj30.call_peak.863.sample=GSM1102788_CD14_H3K36me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/macs2/GSM1102788_CD14_H3K36me3_hg19_callpeak.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.call_peak.30.sh']
[33mSubmitted job 30 with external jobid '140574'.[0m
[32m[Sun Aug  6 04:43:41 2023][0m
[32mFinished job 20.[0m
[32m9 of 26 steps (35%) done[0m
[33mRemoving temporary output results/bams/GSM1102793_CD14_H3K4me1_hg19.bam.[0m
[34mResources before job selection: {'_cores': 9223372036854775800, '_nodes': 43}[0m
[34mReady jobs (2)[0m
[33mSelect jobs to execute...[0m
Welcome to the CBC MILP Solver 
Version: 2.10.10 
Build Date: Apr 19 2023 

command line - cbc /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/aa8f46c9fc284dfbbea2be947d558d6a-pulp.mps max timeMode elapsed branch printingOptions all solution /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/aa8f46c9fc284dfbbea2be947d558d6a-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 7 COLUMNS
At line 18 RHS
At line 21 BOUNDS
At line 24 ENDATA
Problem MODEL has 2 rows, 2 columns and 4 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 4 - 0.00 seconds
Cgl0004I processed model has 0 rows, 0 columns (0 integer (0 of which binary)) and 0 elements
Cbc3007W No integer variables - nothing to do
Cuts at root node changed objective from 4 to 1.79769e+308
Probing was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                4.00000000
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.03
Time (Wallclock seconds):       0.00

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.04   (Wallclock seconds):       0.00

[34mSelected jobs (2)[0m
[34mResources after job selection: {'_cores': 9223372036854775798, '_nodes': 41}[0m
[32m[0m
[32m[Sun Aug  6 04:43:41 2023][0m
[32mrule call_peak:
    input: results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam
    output: results/macs2/GSM1102793_CD14_H3K4me1_hg19_peaks.xls, results/macs2/GSM1102793_CD14_H3K4me1_hg19_peaks.narrowPeak
    log: logs/macs2/GSM1102793_CD14_H3K4me1_hg19_callpeak.log
    jobid: 31
    reason: Input files updated by another job: results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam
    wildcards: sample=GSM1102793_CD14_H3K4me1, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "call_peak", "local": false, "input": ["results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam"], "output": ["results/macs2/GSM1102793_CD14_H3K4me1_hg19_peaks.xls", "results/macs2/GSM1102793_CD14_H3K4me1_hg19_peaks.narrowPeak"], "wildcards": {"sample": "GSM1102793_CD14_H3K4me1", "genome": "hg19"}, "params": {}, "log": ["logs/macs2/GSM1102793_CD14_H3K4me1_hg19_callpeak.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 31, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'call_peak:sample=GSM1102793_CD14_H3K4me1,genome=hg19' --allowed-rules 'call_peak' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/dfdd8dbba663206f3cd284790cdc82a8' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj31.call_peak.929.sample=GSM1102793_CD14_H3K4me1.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/macs2/GSM1102793_CD14_H3K4me1_hg19_callpeak.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.call_peak.31.sh']
[33mSubmitted job 31 with external jobid '140576'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:42 2023][0m
[32mrule bam_bigwig:
    input: results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam, results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bai
    output: results/bigwig/GSM1102793_CD14_H3K4me1_hg19.bw
    log: logs/bigwig/GSM1102793_CD14_H3K4me1_hg19.bw.log
    jobid: 19
    benchmark: logs/benchmarks/bigwig/GSM1102793_CD14_H3K4me1_hg19.bw.txt
    reason: Input files updated by another job: results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam, results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bai
    wildcards: sample=GSM1102793_CD14_H3K4me1, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[33mbamCoverage -b results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam -o results/bigwig/GSM1102793_CD14_H3K4me1_hg19.bw &> logs/bigwig/GSM1102793_CD14_H3K4me1_hg19.bw.log[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_bigwig", "local": false, "input": ["results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam", "results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bai"], "output": ["results/bigwig/GSM1102793_CD14_H3K4me1_hg19.bw"], "wildcards": {"sample": "GSM1102793_CD14_H3K4me1", "genome": "hg19"}, "params": {}, "log": ["logs/bigwig/GSM1102793_CD14_H3K4me1_hg19.bw.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 19, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_bigwig:sample=GSM1102793_CD14_H3K4me1,genome=hg19' --allowed-rules 'bam_bigwig' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bam' 'results/bams_sorted/GSM1102793_CD14_H3K4me1_hg19.sorted.bai' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/56a8cd6755a0b273be6114da236dcc79' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj19.bam_bigwig.978.sample=GSM1102793_CD14_H3K4me1.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bigwig/GSM1102793_CD14_H3K4me1_hg19.bw.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_bigwig.19.sh']
[33mSubmitted job 19 with external jobid '140577'.[0m
[32m[Sun Aug  6 04:43:42 2023][0m
[32mFinished job 23.[0m
[32m10 of 26 steps (38%) done[0m
[33mRemoving temporary output results/bams/GSM1102797_CD14_H3K4me3_hg19.bam.[0m
[32m[Sun Aug  6 04:43:42 2023][0m
[32mFinished job 9.[0m
[32m11 of 26 steps (42%) done[0m
[33mRemoving temporary output results/bams/GSM1102782_CD14_H3K27ac_hg19.bam.[0m
[32m[Sun Aug  6 04:43:42 2023][0m
[32mFinished job 26.[0m
[32m12 of 26 steps (46%) done[0m
[33mRemoving temporary output results/bams/GSM1102807_CD14_input_hg19.bam.[0m
[34mResources before job selection: {'_cores': 9223372036854775801, '_nodes': 44}[0m
[34mReady jobs (6)[0m
[33mSelect jobs to execute...[0m
Welcome to the CBC MILP Solver 
Version: 2.10.10 
Build Date: Apr 19 2023 

command line - cbc /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/d6573cd515bd4865b1a44aff9fc1508d-pulp.mps max timeMode elapsed branch printingOptions all solution /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp/d6573cd515bd4865b1a44aff9fc1508d-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 7 COLUMNS
At line 38 RHS
At line 41 BOUNDS
At line 48 ENDATA
Problem MODEL has 2 rows, 6 columns and 12 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 12 - 0.00 seconds
Cgl0004I processed model has 0 rows, 0 columns (0 integer (0 of which binary)) and 0 elements
Cbc3007W No integer variables - nothing to do
Cuts at root node changed objective from 12 to 1.79769e+308
Probing was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                12.00000000
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.02
Time (Wallclock seconds):       0.00

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.04   (Wallclock seconds):       0.00

[34mSelected jobs (6)[0m
[34mResources after job selection: {'_cores': 9223372036854775795, '_nodes': 38}[0m
[32m[0m
[32m[Sun Aug  6 04:43:42 2023][0m
[32mrule bam_bigwig:
    input: results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam, results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bai
    output: results/bigwig/GSM1102807_CD14_input_hg19.bw
    log: logs/bigwig/GSM1102807_CD14_input_hg19.bw.log
    jobid: 25
    benchmark: logs/benchmarks/bigwig/GSM1102807_CD14_input_hg19.bw.txt
    reason: Input files updated by another job: results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam, results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bai
    wildcards: sample=GSM1102807_CD14_input, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[33mbamCoverage -b results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam -o results/bigwig/GSM1102807_CD14_input_hg19.bw &> logs/bigwig/GSM1102807_CD14_input_hg19.bw.log[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_bigwig", "local": false, "input": ["results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam", "results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bai"], "output": ["results/bigwig/GSM1102807_CD14_input_hg19.bw"], "wildcards": {"sample": "GSM1102807_CD14_input", "genome": "hg19"}, "params": {}, "log": ["logs/bigwig/GSM1102807_CD14_input_hg19.bw.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 25, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_bigwig:sample=GSM1102807_CD14_input,genome=hg19' --allowed-rules 'bam_bigwig' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam' 'results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bai' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/56a8cd6755a0b273be6114da236dcc79' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj25.bam_bigwig.1036.sample=GSM1102807_CD14_input.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bigwig/GSM1102807_CD14_input_hg19.bw.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_bigwig.25.sh']
[33mSubmitted job 25 with external jobid '140578'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:42 2023][0m
[32mrule call_peak:
    input: results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam
    output: results/macs2/GSM1102797_CD14_H3K4me3_hg19_peaks.xls, results/macs2/GSM1102797_CD14_H3K4me3_hg19_peaks.narrowPeak
    log: logs/macs2/GSM1102797_CD14_H3K4me3_hg19_callpeak.log
    jobid: 32
    reason: Input files updated by another job: results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam
    wildcards: sample=GSM1102797_CD14_H3K4me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "call_peak", "local": false, "input": ["results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam"], "output": ["results/macs2/GSM1102797_CD14_H3K4me3_hg19_peaks.xls", "results/macs2/GSM1102797_CD14_H3K4me3_hg19_peaks.narrowPeak"], "wildcards": {"sample": "GSM1102797_CD14_H3K4me3", "genome": "hg19"}, "params": {}, "log": ["logs/macs2/GSM1102797_CD14_H3K4me3_hg19_callpeak.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 32, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'call_peak:sample=GSM1102797_CD14_H3K4me3,genome=hg19' --allowed-rules 'call_peak' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/dfdd8dbba663206f3cd284790cdc82a8' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj32.call_peak.1061.sample=GSM1102797_CD14_H3K4me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/macs2/GSM1102797_CD14_H3K4me3_hg19_callpeak.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.call_peak.32.sh']
[33mSubmitted job 32 with external jobid '140579'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:43 2023][0m
[32mrule bam_bigwig:
    input: results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam, results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bai
    output: results/bigwig/GSM1102782_CD14_H3K27ac_hg19.bw
    log: logs/bigwig/GSM1102782_CD14_H3K27ac_hg19.bw.log
    jobid: 8
    benchmark: logs/benchmarks/bigwig/GSM1102782_CD14_H3K27ac_hg19.bw.txt
    reason: Input files updated by another job: results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bai, results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam
    wildcards: sample=GSM1102782_CD14_H3K27ac, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[33mbamCoverage -b results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam -o results/bigwig/GSM1102782_CD14_H3K27ac_hg19.bw &> logs/bigwig/GSM1102782_CD14_H3K27ac_hg19.bw.log[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_bigwig", "local": false, "input": ["results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam", "results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bai"], "output": ["results/bigwig/GSM1102782_CD14_H3K27ac_hg19.bw"], "wildcards": {"sample": "GSM1102782_CD14_H3K27ac", "genome": "hg19"}, "params": {}, "log": ["logs/bigwig/GSM1102782_CD14_H3K27ac_hg19.bw.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 8, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_bigwig:sample=GSM1102782_CD14_H3K27ac,genome=hg19' --allowed-rules 'bam_bigwig' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam' 'results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bai' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/56a8cd6755a0b273be6114da236dcc79' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj8.bam_bigwig.1086.sample=GSM1102782_CD14_H3K27ac.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bigwig/GSM1102782_CD14_H3K27ac_hg19.bw.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_bigwig.8.sh']
[33mSubmitted job 8 with external jobid '140580'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:43 2023][0m
[32mrule call_peak:
    input: results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam
    output: results/macs2/GSM1102807_CD14_input_hg19_peaks.xls, results/macs2/GSM1102807_CD14_input_hg19_peaks.narrowPeak
    log: logs/macs2/GSM1102807_CD14_input_hg19_callpeak.log
    jobid: 33
    reason: Input files updated by another job: results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam
    wildcards: sample=GSM1102807_CD14_input, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "call_peak", "local": false, "input": ["results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam"], "output": ["results/macs2/GSM1102807_CD14_input_hg19_peaks.xls", "results/macs2/GSM1102807_CD14_input_hg19_peaks.narrowPeak"], "wildcards": {"sample": "GSM1102807_CD14_input", "genome": "hg19"}, "params": {}, "log": ["logs/macs2/GSM1102807_CD14_input_hg19_callpeak.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 33, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'call_peak:sample=GSM1102807_CD14_input,genome=hg19' --allowed-rules 'call_peak' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102807_CD14_input_hg19.sorted.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/dfdd8dbba663206f3cd284790cdc82a8' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj33.call_peak.1111.sample=GSM1102807_CD14_input.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/macs2/GSM1102807_CD14_input_hg19_callpeak.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.call_peak.33.sh']
[33mSubmitted job 33 with external jobid '140581'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:43 2023][0m
[32mrule call_peak:
    input: results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam
    output: results/macs2/GSM1102782_CD14_H3K27ac_hg19_peaks.xls, results/macs2/GSM1102782_CD14_H3K27ac_hg19_peaks.narrowPeak
    log: logs/macs2/GSM1102782_CD14_H3K27ac_hg19_callpeak.log
    jobid: 28
    reason: Input files updated by another job: results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam
    wildcards: sample=GSM1102782_CD14_H3K27ac, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "call_peak", "local": false, "input": ["results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam"], "output": ["results/macs2/GSM1102782_CD14_H3K27ac_hg19_peaks.xls", "results/macs2/GSM1102782_CD14_H3K27ac_hg19_peaks.narrowPeak"], "wildcards": {"sample": "GSM1102782_CD14_H3K27ac", "genome": "hg19"}, "params": {}, "log": ["logs/macs2/GSM1102782_CD14_H3K27ac_hg19_callpeak.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 28, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'call_peak:sample=GSM1102782_CD14_H3K27ac,genome=hg19' --allowed-rules 'call_peak' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102782_CD14_H3K27ac_hg19.sorted.bam' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/dfdd8dbba663206f3cd284790cdc82a8' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj28.call_peak.1136.sample=GSM1102782_CD14_H3K27ac.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/macs2/GSM1102782_CD14_H3K27ac_hg19_callpeak.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.call_peak.28.sh']
[33mSubmitted job 28 with external jobid '140582'.[0m
[32m[0m
[32m[Sun Aug  6 04:43:43 2023][0m
[32mrule bam_bigwig:
    input: results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam, results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bai
    output: results/bigwig/GSM1102797_CD14_H3K4me3_hg19.bw
    log: logs/bigwig/GSM1102797_CD14_H3K4me3_hg19.bw.log
    jobid: 22
    benchmark: logs/benchmarks/bigwig/GSM1102797_CD14_H3K4me3_hg19.bw.txt
    reason: Input files updated by another job: results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bai, results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam
    wildcards: sample=GSM1102797_CD14_H3K4me3, genome=hg19
    resources: mem_mb=1000, mem_mib=954, disk_mb=1000, disk_mib=954, tmpdir=<TBD>[0m
[32m[0m
[33mbamCoverage -b results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam -o results/bigwig/GSM1102797_CD14_H3K4me3_hg19.bw &> logs/bigwig/GSM1102797_CD14_H3K4me3_hg19.bw.log[0m
[34mJobscript:
#!/bin/bash
# +++++++++++++++++++++++++++++++++++++++++++++
# invoke with --jobscript

# Propagate TMPDIR for LSF nodes:

if [ -z "$__LSF_JOB_CUSTOM_TMPDIR__" ]
then
  # $__LSF_JOB_CUSTOM_TMPDIR__ is empty or not set:
  if [[ ! -z "$__LSF_JOB_TMPDIR__" ]]; then
    echo 'Set TMPDIR from $__LSF_JOB_TMPDIR__'
    export TMPDIR=$__LSF_JOB_TMPDIR__
  fi
else
  # # $__LSF_JOB_CUSTOM_TMPDIR__ is set and NOT empty
  export TMPDIR=$__LSF_JOB_CUSTOM_TMPDIR__
  echo 'Set TMPDIR from $__LSF_JOB_CUSTOM_TMPDIR__'
fi

echo "Job uses tempdir: TMPDIR=$TMPDIR"

# Snakemake job properties:

# properties = {"type": "single", "rule": "bam_bigwig", "local": false, "input": ["results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam", "results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bai"], "output": ["results/bigwig/GSM1102797_CD14_H3K4me3_hg19.bw"], "wildcards": {"sample": "GSM1102797_CD14_H3K4me3", "genome": "hg19"}, "params": {}, "log": ["logs/bigwig/GSM1102797_CD14_H3K4me3_hg19.bw.log"], "threads": 1, "resources": {"mem_mb": 1000, "mem_mib": 954, "disk_mb": 1000, "disk_mib": 954, "tmpdir": "<TBD>"}, "jobid": 22, "cluster": {"system": "lsf", "group": "/carisa/test-snakemake", "user_group": "compute-martyomov", "queue": "general", "docker": "snakemake/snakemake:latest", "email": "carisa@wustl.edu", "time": "120", "vmem": "4", "mem_ram": "4", "threads": "1", "job_workdir": "/home/carisa/", "default_jobs_logdir": "logs/cluster", "nodes": 1, "extra": "", "command_options": {"slurm": {"command": " sbatch --parsable", "key_mapping": {"name": " --job-name={name}", "threads": " -n {threads}", "vmem": " --mem={vmem}g", "account": " --account={account}", "queue": " --partition={queue}", "time": " --time={time}", "nodes": " -N {nodes}", "extra": " {extra}"}}, "pbs": {"command": " qsub", "key_mapping": {"job_workdir": " -d {job_workdir}", "name": " -N 'sj{jobid}.{name}.{pid}'", "queue": " -q '{queue}'", "nodes": " -l nodes={nodes}", "threads": ":ppn={threads},", "vmem": "vmem={vmem}gb,", "mem_ram": "mem={mem_ram}gb,", "time": "walltime={time}:00", "merge_std": " -j oe", "log": " -o '{log}_job.log'", "extra": " {extra}"}}, "lsf": {"command": " bsub", "key_mapping": {"job_workdir": " -cwd {job_workdir}", "resources": " -R \"select[mem>{mem_ram}000] rusage[mem={mem_ram}000] span[hosts={nodes}]\"", "name": " -J 'sj{jobid}.{name}.{pid}{job_name_wildcards_info}'", "queue": " -q '{queue}'", "threads": " -n '{threads}'", "mem_ram": " -M '{mem_ram}000'", "time": " -W '{time}'", "log": " -oo '{log}_job.log'", "group": " -g '{group}'", "user_group": " -G '{user_group}'", "email": " -N -u '{email}'", "account": " -P '{account}'", "extra": " {extra}", "docker": "  -a 'docker({docker})'", "jobscript": " '{jobscript}'"}}}}}

# Snakemake job script:

cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu && /opt/conda/envs/snakemake/bin/python3.11 -m snakemake --snakefile '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/workflow/Snakefile' --target-jobs 'bam_bigwig:sample=GSM1102797_CD14_H3K4me3,genome=hg19' --allowed-rules 'bam_bigwig' --cores 'all' --attempt 1 --force-use-threads  --resources 'mem_mb=1000' 'mem_mib=954' 'disk_mb=1000' 'disk_mib=954' --wait-for-files '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl' 'results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bam' 'results/bams_sorted/GSM1102797_CD14_H3K4me3_hg19.sorted.bai' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/conda/56a8cd6755a0b273be6114da236dcc79' --force --keep-target-files --keep-remote --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers 'mtime' 'code' 'params' 'input' 'software-env' --skip-script-cleanup  --use-conda  --conda-frontend 'mamba' --conda-base-path '/opt/conda' --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --printshellcmds  --latency-wait 10 --scheduler 'ilp' --scheduler-solver-path '/opt/conda/envs/snakemake/bin' --default-resources 'mem_mb=max(2*input.size_mb, 1000)' 'disk_mb=max(2*input.size_mb, 1000)' 'tmpdir=system_tmpdir' --mode 2 && exit 0 || exit 1

# +++++++++++++++++++++++++++++++++++++++++++++[0m
Key 'account' ignored: Undefined variables [account] in:  -P '{account}'
Key 'extra' ignored: Undefined variables [extra] in:  {extra}

Submit job command:
    [ bsub -cwd /home/carisa/ -R "select[mem>4000] rusage[mem=4000] span[hosts=1]" -J 'sj22.bam_bigwig.1161.sample=GSM1102797_CD14_H3K4me3.genome=hg19' -q 'general' -n '1' -M '4000' -W '120' -oo '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/logs/bigwig/GSM1102797_CD14_H3K4me3_hg19.bw.log_job.log' -g '/carisa/test-snakemake' -G 'compute-martyomov' -N -u 'carisa@wustl.edu'  -a 'docker(snakemake/snakemake:latest)' '/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/.snakemake/tmp.pf2xjadl/snakejob.bam_bigwig.22.sh']
[33mSubmitted job 22 with external jobid '140583'.[0m
[32m[Sun Aug  6 04:44:14 2023][0m
[32mFinished job 31.[0m
[32m13 of 26 steps (50%) done[0m
[32m[Sun Aug  6 04:44:15 2023][0m
[32mFinished job 32.[0m
[32m14 of 26 steps (54%) done[0m
[32m[Sun Aug  6 04:44:15 2023][0m
[32mFinished job 33.[0m
[32m15 of 26 steps (58%) done[0m
[32m[Sun Aug  6 04:44:25 2023][0m
[32mFinished job 29.[0m
[32m16 of 26 steps (62%) done[0m
[32m[Sun Aug  6 04:44:36 2023][0m
[32mFinished job 30.[0m
[32m17 of 26 steps (65%) done[0m
[32m[Sun Aug  6 04:45:18 2023][0m
[32mFinished job 19.[0m
[32m18 of 26 steps (69%) done[0m
[32m[Sun Aug  6 04:45:18 2023][0m
[32mFinished job 25.[0m
[32m19 of 26 steps (73%) done[0m
[32m[Sun Aug  6 04:45:19 2023][0m
[32mFinished job 8.[0m
[32m20 of 26 steps (77%) done[0m
[32m[Sun Aug  6 04:45:39 2023][0m
[32mFinished job 13.[0m
[32m21 of 26 steps (81%) done[0m
[32m[Sun Aug  6 04:45:39 2023][0m
[32mFinished job 16.[0m
[32m22 of 26 steps (85%) done[0m
[32m[Sun Aug  6 04:45:49 2023][0m
[32mFinished job 28.[0m
[32m23 of 26 steps (88%) done[0m
[32m[Sun Aug  6 04:45:49 2023][0m
[32mFinished job 22.[0m
[32m24 of 26 steps (92%) done[0m
[31mExiting because a job execution failed. Look above for error message[0m
[33mComplete log: .snakemake/log/2023-08-06T044143.740949.snakemake.log[0m
[34munlocking[0m
[34mremoving lock[0m
[34mremoving lock[0m
[34mremoved all locks[0m

------------------------------------------------------------
Sender: LSF System <lsfadmin@compute1-exec-126.ris.wustl.edu>
Subject: Job 140554: </usr/bin/script -fqe /dev/null -c "source /etc/bash.bashrc; cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu; export TMPDIR=/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp; snakemake -j 50 --profile lsf_demo --local-cores 4"> in cluster <compute1-lsf> Exited

Job </usr/bin/script -fqe /dev/null -c "source /etc/bash.bashrc; cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu; export TMPDIR=/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp; snakemake -j 50 --profile lsf_demo --local-cores 4"> was submitted from host <compute1-client-1.ris.wustl.edu> by user <carisa> in cluster <compute1-lsf> at Sat Aug  5 23:41:40 2023
Job was executed on host(s) <4*compute1-exec-126.ris.wustl.edu>, in queue <general>, as user <carisa> in cluster <compute1-lsf> at Sat Aug  5 23:41:41 2023
</home/carisa> was used as the home directory.
</home/carisa> was used as the working directory.
Started at Sat Aug  5 23:41:41 2023
Terminated at Sat Aug  5 23:46:08 2023
Results reported at Sat Aug  5 23:46:08 2023

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
/usr/bin/script -fqe /dev/null -c "source /etc/bash.bashrc; cd /scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu; export TMPDIR=/scratch1/fs1/martyomov/carisa/chipseq-smk-pipeline-edu/tmp; snakemake -j 50 --profile lsf_demo --local-cores 4"
------------------------------------------------------------

Exited with exit code 1.

Resource usage summary:

    CPU time :                                   10.48 sec.
    Max Memory :                                 9 MB
    Average Memory :                             8.75 MB
    Total Requested Memory :                     4096.00 MB
    Delta Memory :                               4087.00 MB
    Max Swap :                                   -
    Max Processes :                              5
    Max Threads :                                27
    Run time :                                   267 sec.
    Turnaround time :                            268 sec.

The output (if any) is above this job summary.

